{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenvanvu/Documents/WEB23/projectWeb23_frontend/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport HomeScreen from \"./containers/HomeScreen\";\nimport LoginScreen from \"./containers/LoginScreen\";\nimport AboutScreen from \"./containers/AboutScreen\";\nimport ContactScreen from \"./containers/ContactScreen\";\nimport ShopScreen from \"./containers/ShopScreen\";\nimport CartScreen from \"./containers/CartScreen\";\nimport DetailScreen from \"./containers/DetailScreen\";\nimport AdminScreen from \"./containers/AdminScreen\";\nimport { Route, Switch, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport axios from \"./axios\";\nimport ShipReturn from './containers/ShipReturn';\nexport class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      id: ''\n    };\n\n    this._onLogin = (username, password) => {\n      axios.post(\"http://localhost:6969/api/auth/login\", {\n        username: username,\n        password: password\n      }).then(response => {\n        if (response.data.success) {\n          window.localStorage.setItem(\"access_token\", response.data.access_token);\n          this.setState({\n            username: response.data.user.username,\n            id: response.data.id\n          });\n          this.props.history.push(\"/\");\n        } else {\n          alert(response.data.message);\n        } // console.log(response.data.message);\n\n      }).catch(err => console.error(err));\n    };\n  }\n\n  componentDidMount() {\n    //check login\n    const access_token = window.localStorage.getItem(\"access_token\");\n    axios.get(\"http://localhost:6969/api/auth/check?access_token=\" + access_token).then(response => {\n      if (response.data.success) {\n        this.setState({\n          username: response.data.user.username,\n          id: response.data.user.id\n        });\n      } else {\n        this.props.history.push(\"/login\");\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => {\n        return React.createElement(HomeScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: props => {\n        if (this.state.username) {\n          props.history.push(\"/\");\n          return \"\";\n        }\n\n        return React.createElement(LoginScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/about\",\n      render: props => {\n        return React.createElement(AboutScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/shipping-returns\",\n      render: props => {\n        return React.createElement(ShipReturn, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/store-policy\",\n      render: props => {\n        return React.createElement(ShipReturn, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/contact\",\n      render: props => {\n        return React.createElement(ContactScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/shop\",\n      render: props => {\n        return React.createElement(ShopScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/cart\",\n      render: props => {\n        return React.createElement(CartScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/merchandise/:merId\",\n      render: props => {\n        return React.createElement(DetailScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/admin\",\n      render: props => {\n        return React.createElement(AdminScreen, Object.assign({}, props, {\n          username: this.state.username,\n          onLogin: this._onLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }))));\n  }\n\n}\nexport default App;","map":{"version":3,"sources":["/Users/nguyenvanvu/Documents/WEB23/projectWeb23_frontend/frontend/src/App.js"],"names":["React","Component","HomeScreen","LoginScreen","AboutScreen","ContactScreen","ShopScreen","CartScreen","DetailScreen","AdminScreen","Route","Switch","BrowserRouter","axios","ShipReturn","App","state","username","id","_onLogin","password","post","then","response","data","success","window","localStorage","setItem","access_token","setState","user","props","history","push","alert","message","catch","err","console","error","componentDidMount","getItem","get","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,sCAAP;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,aAAxB,QAA6C,kBAA7C;AACA,OAAO,WAAP;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,OAAO,MAAMC,GAAN,SAAkBd,SAAlB,CAA4B;AAAA;AAAA;AAAA,SACjCe,KADiC,GACzB;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,EAAE,EAAE;AAFE,KADyB;;AAAA,SAwBjCC,QAxBiC,GAwBtB,CAACF,QAAD,EAAWG,QAAX,KAAwB;AACjCP,MAAAA,KAAK,CACFQ,IADH,CACQ,sCADR,EACgD;AAC5CJ,QAAAA,QAAQ,EAAEA,QADkC;AAE5CG,QAAAA,QAAQ,EAAEA;AAFkC,OADhD,EAKGE,IALH,CAKQC,QAAQ,IAAI;AAChB,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAAyB;AACvBC,UAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,EAA4CL,QAAQ,CAACC,IAAT,CAAcK,YAA1D;AACA,eAAKC,QAAL,CAAc;AACZb,YAAAA,QAAQ,EAAEM,QAAQ,CAACC,IAAT,CAAcO,IAAd,CAAmBd,QADjB;AAEZC,YAAAA,EAAE,EAAEK,QAAQ,CAACC,IAAT,CAAcN;AAFN,WAAd;AAIA,eAAKc,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,SAPD,MAQK;AACHC,UAAAA,KAAK,CAACZ,QAAQ,CAACC,IAAT,CAAcY,OAAf,CAAL;AACD,SAXe,CAYhB;;AACD,OAlBH,EAmBGC,KAnBH,CAmBSC,GAAG,IAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAnBhB;AAoBD,KA7CgC;AAAA;;AAMjCG,EAAAA,iBAAiB,GAAG;AAClB;AACA,UAAMZ,YAAY,GAAGH,MAAM,CAACC,YAAP,CAAoBe,OAApB,CAA4B,cAA5B,CAArB;AACA7B,IAAAA,KAAK,CAAC8B,GAAN,CAAU,uDAAqDd,YAA/D,EACGP,IADH,CACQC,QAAQ,IAAI;AAChB,UAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAAyB;AACvB,aAAKK,QAAL,CAAc;AACZb,UAAAA,QAAQ,EAAEM,QAAQ,CAACC,IAAT,CAAcO,IAAd,CAAmBd,QADjB;AAEZC,UAAAA,EAAE,EAAEK,QAAQ,CAACC,IAAT,CAAcO,IAAd,CAAmBb;AAFX,SAAd;AAID,OALD,MAKM;AACJ,aAAKc,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;AACF,KAVH,EAUKG,KAVL,CAUWG,KAAK,IAAG;AACfD,MAAAA,OAAO,CAACK,GAAR,CAAYJ,KAAZ;AACD,KAZH;AAaD;;AAyBDK,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,GAFP;AAGE,MAAA,MAAM,EAAEb,KAAK,IAAI;AAEf,eAAO,oBAAC,UAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAMD,OAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAcE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AACE,MAAA,MAAM,EAAEa,KAAK,IAAI;AACf,YAAI,KAAKhB,KAAL,CAAWC,QAAf,EAAyB;AACvBe,UAAAA,KAAK,CAACC,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACA,iBAAO,EAAP;AACD;;AACD,eAAO,oBAAC,WAAD,oBACDF,KADC;AAEL,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFhB;AAGL,UAAA,OAAO,EAAE,KAAKE,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EA2BE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,WAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BF,EAuCE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,mBAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,UAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvCF,EAmDE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,eAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,UAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnDF,EA+DE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,aAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/DF,EA2EE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,UAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3EF,EAuFE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AACQ,MAAA,IAAI,EAAC,OADb;AAEE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,UAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAKD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvFF,EAkGE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,qBAAlB;AACE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAAE,eAAO,oBAAC,YAAD,oBACpBA,KADoB;AAExB,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFG;AAGxB,UAAA,OAAO,EAAE,KAAKE,QAHU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAId,OALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlGF,EAyGE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,MAAM,EAAEa,KAAK,IAAI;AAEf,eAAO,oBAAC,WAAD,oBACHA,KADG;AAEP,UAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAFd;AAGP,UAAA,OAAO,EAAE,KAAKE,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AAIM,OATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzGF,CADF,CADF,CADF;AA2HD;;AA3KgC;AA8KnC,eAAeJ,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport HomeScreen from \"./containers/HomeScreen\";\nimport LoginScreen from \"./containers/LoginScreen\";\nimport AboutScreen from \"./containers/AboutScreen\";\nimport ContactScreen from \"./containers/ContactScreen\";\nimport ShopScreen from \"./containers/ShopScreen\";\nimport CartScreen from \"./containers/CartScreen\";\nimport DetailScreen from \"./containers/DetailScreen\";\nimport AdminScreen from \"./containers/AdminScreen\";\nimport { Route, Switch, BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport axios from \"./axios\";\nimport ShipReturn from './containers/ShipReturn';\n\nexport class App extends Component {\n  state = {\n    username: '',\n    id: '',  \n  };\n\n  componentDidMount() {\n    //check login\n    const access_token = window.localStorage.getItem(\"access_token\")\n    axios.get(\"http://localhost:6969/api/auth/check?access_token=\"+access_token)\n      .then(response => {\n        if(response.data.success){\n          this.setState({\n            username: response.data.user.username,\n            id: response.data.user.id\n          });\n        }else {\n          this.props.history.push(\"/login\")\n        }\n      }).catch(error =>{\n        console.log(error)\n      })\n  }\n\n  _onLogin = (username, password) => {\n    axios\n      .post(\"http://localhost:6969/api/auth/login\", {\n        username: username,\n        password: password\n      })\n      .then(response => {\n        if(response.data.success){\n          window.localStorage.setItem(\"access_token\", response.data.access_token)\n          this.setState({\n            username: response.data.user.username,\n            id: response.data.id\n          });\n          this.props.history.push(\"/\");\n        }\n        else {\n          alert(response.data.message);\n        }\n        // console.log(response.data.message);\n      })\n      .catch(err => console.error(err));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={props => {\n                \n                return <HomeScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n                \n              }}\n            />\n            <Route path=\"/login\"\n              render={props => {\n                if (this.state.username) {\n                  props.history.push(\"/\");\n                  return \"\";\n                }\n                return <LoginScreen\n                  {...props}\n                  username={this.state.username}\n                  onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/about\"\n              render={props => {\n                \n                return <AboutScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/shipping-returns\"\n              render={props => {\n                \n                return <ShipReturn\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/store-policy\"\n              render={props => {\n                \n                return <ShipReturn\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/contact\"\n              render={props => {\n                \n                return <ContactScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/shop\"\n              render={props => {\n                \n                return <ShopScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route\n              exact path=\"/cart\"\n              render={props => {\n                \n                return <CartScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                />;\n              }}\n            />\n            <Route exact path=\"/merchandise/:merId\"\n              render={props => { return <DetailScreen \n                {...props} \n                username={this.state.username}\n                onLogin={this._onLogin}\n              />; }}\n            />\n            <Route\n              exact\n              path=\"/admin\"\n              render={props => {\n                \n                return <AdminScreen\n                {...props}\n                username={this.state.username}\n                onLogin={this._onLogin}\n                 />; }}\n            />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}